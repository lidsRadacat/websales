var transSubjectGroupId = sessionStorage.getItem("transSubjectGroupId");
var tgNameError = document.getElementById("tgName-error");
tgName.onblur = function() {
	if(this.validity.valueMissing) {
		tgNameError.style.display = "block";
		$("#tgName").addClass("error")
	}
};
tgName.onfocus = function() {
	tgNameError.style.display = "none";
	$("#tgName").removeClass("error")
};
var tgDescribeError = document.getElementById("tgDescribe-error");
tgDescribe.onblur = function() {
	if(this.validity.valueMissing) {
		tgDescribeError.style.display = "block";
		$("#tgDescribe").addClass("error")
	}
};
tgDescribe.onfocus = function() {
	tgDescribeError.style.display = "none";
	$("#tgDescribe").removeClass("error")
};
var tgAnnouncementError = document.getElementById("tgAnnouncement-error");
tgAnnouncement.onblur = function() {
	if(this.validity.valueMissing) {
		tgAnnouncementError.style.display = "block";
		$("#tgAnnouncement").addClass("error")
	}
};
tgAnnouncement.onfocus = function() {
	tgAnnouncementError.style.display = "none";
	$("#tgAnnouncement").removeClass("error")
};
btn.onclick = function() {
	var c = $("#tgName").val();
	var d = $("#tgAvatar").val();
	var b = $("#tgDescribe").val();
	var a = $("#tgAnnouncement").val();
	reviseSubjectGroup(transSubjectGroupId, c, d, b, a)
};

function reviseSubjectGroup(e, c, d, b, a) {
	$.ajax({
		type: "POST",
		url: "http://" + ip + "/bcat/thematicGroup/updateGroup.do?jsonp=?",
		data: {
			thematicGroupId: e,
			tgName: c,
			tgAvatar: d,
			tgDescribe: b,
			tgAnnouncement: a
		},
		dataType: "jsonp",
		success: function(f) {
			if(f.code === "2000") {
				layer.msg("修改成功!", {
					icon: 1,
					time: 1000
				});
				setTimeout(function() {
					layer_close()
				}, 1000)
			} else {
				layer.msg("修改失败!", {
					icon: 1,
					time: 1000
				})
			}
		}
	})
}

function getStatus(a) {
	if(a === "0") {
		return "正常"
	} else {
		if(a === "1") {
			return "禁用"
		}
	}
};