var tgNameError = document.getElementById("tgName-error");
tgName.onblur = function() {
	if(this.validity.valueMissing) {
		tgNameError.style.display = "block";
		$("#tgName").addClass("error")
	}
};
tgName.onfocus = function() {
	tgNameError.style.display = "none";
	$("#tgName").removeClass("error")
};
var tgDescribeError = document.getElementById("tgDescribe-error");
tgDescribe.onblur = function() {
	if(this.validity.valueMissing) {
		tgDescribeError.style.display = "block";
		$("#tgDescribe").addClass("error")
	}
};
tgDescribe.onfocus = function() {
	tgDescribeError.style.display = "none";
	$("#tgDescribe").removeClass("error")
};
var tgAnnouncementError = document.getElementById("tgAnnouncement-error");
tgAnnouncement.onblur = function() {
	if(this.validity.valueMissing) {
		tgAnnouncementError.style.display = "block";
		$("#tgAnnouncement").addClass("error")
	}
};
tgAnnouncement.onfocus = function() {
	tgAnnouncementError.style.display = "none";
	$("#tgAnnouncement").removeClass("error")
};
btn.onclick = function() {
	var c = $("#tgName").val();
	var d = $("#tgAvatar").val();
	var b = $("#tgDescribe").val();
	var a = $("#tgAnnouncement").val();
	addSubjectGroup(c, d, b, a)
};
var lastPageNum = sessionStorage.getItem("totalPage");

function addSubjectGroup(c, d, b, a) {
	$.ajax({
		type: "POST",
		url: "http://" + ip + "/bcat/thematicGroup/saveGroup.do?jsonp=?",
		data: {
			tgName: c,
			tgAvatar: d,
			tgDescribe: b,
			tgAnnouncement: a
		},
		dataType: "jsonp",
		success: function(e) {
			if(e.code === "2000") {
				layer.msg("添加成功!", {
					icon: 1,
					time: 1000
				});
				setTimeout(function() {
					layer_close()
				}, 1000);
				parent.location.reload()
			} else {
				layer.msg("添加失败!", {
					icon: 1,
					time: 1000
				})
			}
		}
	})
};